<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Farah Journal - Latest news from Hargeisa, Somaliland and the world. Geopolitics, Economy, and Expert Analysis.">
    <meta name="keywords" content="Farah Journal, Somaliland News, Hargeisa News, Mohamed Farah Tahar">
    <title>FARAH JOURNAL | Hargeisa, Somaliland</title>
    
    <style>
        :root { --primary: #c00; --dark: #111; --bg: #f8f9fa; }
        
        * { box-sizing: border-box; }
        body { font-family: 'Times New Roman', serif; margin: 0; background: var(--bg); color: #333; overflow-x: hidden; }

        /* Mobile First Design */
        header { background: #fff; padding: 15px; text-align: center; border-bottom: 5px solid var(--primary); }
        .logo { font-size: clamp(25px, 8vw, 45px); font-weight: 900; color: var(--dark); text-decoration: none; text-transform: uppercase; }
        .logo span { color: var(--primary); }

        nav { background: var(--dark); padding: 10px; display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; position: sticky; top: 0; z-index: 1000; }
        nav a { color: #fff; text-decoration: none; font-family: sans-serif; font-weight: bold; font-size: 12px; text-transform: uppercase; }

        /* Ticker - Adjusted for mobile */
        .ticker-container { background: #fff; padding: 10px; border-bottom: 1px solid #ddd; overflow: hidden; display: flex; }
        .ticker-label { background: var(--primary); color: #fff; padding: 3px 8px; font-weight: bold; font-size: 11px; margin-right: 10px; flex-shrink: 0; }
        .ticker-content { white-space: nowrap; animation: ticker-move 70s linear infinite; font-family: sans-serif; }
        @keyframes ticker-move { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* Responsive Layout */
        .main-wrapper { max-width: 1200px; margin: 20px auto; padding: 0 15px; }
        
        /* Hero Section - Best for Google SEO */
        .featured-box { background: #fff; margin-bottom: 30px; border: 1px solid #ddd; }
        .featured-box img { width: 100%; height: auto; max-height: 500px; object-fit: contain; background: #eee; }
        .featured-text { padding: 20px; }
        .featured-text h1 { font-size: clamp(20px, 5vw, 32px); margin: 10px 0; }

        /* News Grid - Automatic columns */
        .news-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
            gap: 20px; 
        }
        .card { background: #fff; border: 1px solid #eee; display: flex; flex-direction: column; }
        .card img { width: 100%; height: 200px; object-fit: contain; background: #f9f9f9; }
        .card-body { padding: 15px; flex-grow: 1; }
        .card-body h2 { font-size: 18px; margin: 10px 0; }

        /* Hidden Admin Panel */
        #admin-panel { 
            display: none; position: fixed; top: 50%; left: 50%; 
            transform: translate(-50%, -50%); background: #fff; 
            padding: 20px; box-shadow: 0 0 50px rgba(0,0,0,0.5); 
            z-index: 2000; width: 95%; max-width: 450px; 
            border-top: 5px solid var(--primary); 
        }
        .admin-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1999; }
        input, textarea, select { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ccc; font-size: 16px; }
        .post-btn { background: var(--primary); color: #fff; border: none; padding: 15px; width: 100%; font-weight: bold; cursor: pointer; }

        footer { background: #1a1a1a; color: #bbb; padding: 40px 15px; text-align: center; margin-top: 50px; }
        .admin-trigger { color: #333; font-size: 10px; cursor: pointer; display: block; margin-top: 20px; }

        /* Mobile specific adjustments */
        @media (max-width: 600px) {
            .featured-text { padding: 15px; }
            .news-grid { grid-template-columns: 1fr; }
            nav { gap: 10px; }
        }
    </style>
</head>
<body>

<header>
    <a href="#" class="logo">FARAH<span>JOURNAL</span></a>
    <p style="font-size: 13px; color: #666; margin-top: 5px;">HARGEISA | SOMALILAND | GLOBAL NEWS</p>
</header>

<nav>
    <a href="#" onclick="render('All')">Home</a>
    <a href="#" onclick="render('Politics')">Politics</a>
    <a href="#" onclick="render('Economy')">Economy</a>
    <a href="#" onclick="render('Global')">Global News</a>
</nav>

<div class="ticker-container">
    <div class="ticker-label">LATEST</div>
    <div class="ticker-content" id="ticker">Welcome to Farah Journal...</div>
</div>

<div class="main-wrapper">
    <article id="hero-section"></article>
    <section id="grid" class="news-grid"></section>
</div>

<div class="admin-overlay" id="overlay" onclick="toggleAdmin()"></div>
<div id="admin-panel">
    <h3>✍️ Admin Access</h3>
    <input type="password" id="pass" placeholder="Password">
    <input type="text" id="tit" placeholder="News Headline">
    <textarea id="con" rows="5" placeholder="Write your article here..."></textarea>
    <select id="cat">
        <option value="Politics">Politics</option>
        <option value="Economy">Economy</option>
        <option value="Global">Global News</option>
    </select>
    <label style="font-size: 12px;">Upload Photo:</label>
    <input type="file" id="imgFile">
    <input type="hidden" id="edit-id" value="-1">
    <button class="post-btn" id="submit-btn" onclick="publish()">PUBLISH NEWS</button>
</div>

<footer>
    <div style="max-width: 600px; margin: 0 auto;">
        <h3>FARAH JOURNAL</h3>
        <p>Leading the conversation on Somaliland's future and global affairs.</p>
        <p>Email: farahjournal2@gmail.com | Hargeisa, SL</p>
    </div>
    <span class="admin-trigger" onclick="toggleAdmin()">[Staff Access]</span>
</footer>

<script>
    const KEY = "Farah2026";
    let db = JSON.parse(localStorage.getItem("fj_final_v10")) || [];

    function toggleAdmin() {
        const p = document.getElementById("admin-panel");
        const o = document.getElementById("overlay");
        const vis = p.style.display === "block";
        p.style.display = vis ? "none" : "block";
        o.style.display = vis ? "none" : "block";
    }

    function render(f = 'All') {
        const hero = document.getElementById("hero-section");
        const grid = document.getElementById("grid");
        const ticker = document.getElementById("ticker");
        const filtered = f === 'All' ? db : db.filter(n => n.category === f);
        
        if(filtered.length > 0) {
            const top = filtered[0];
            hero.innerHTML = `
                <div class="featured-box">
                    <img src="${top.image}" alt="${top.title}">
                    <div class="featured-text">
                        <span style="color:red; font-weight:bold; font-size:14px;">${top.category}</span>
                        <h1>${top.title}</h1>
                        <p>${top.content.substring(0, 250)}...</p>
                        <button onclick="startEdit(${db.indexOf(top)})" style="color:orange; border:none; background:none; cursor:pointer; font-weight:bold;">EDIT</button>
                    </div>
                </div>`;
            
            grid.innerHTML = filtered.slice(1).map((n) => {
                const idx = db.indexOf(n);
                return `
                <article class="card">
                    <img src="${n.image}" alt="${n.title}">
                    <div class="card-body">
                        <span style="color:red; font-weight:bold; font-size:11px;">${n.category}</span>
                        <h2>${n.title}</h2>
                        <button onclick="remove(${idx})" style="color:red; border:none; background:none; cursor:pointer; font-weight:bold; font-size:11px;">DELETE</button>
                    </div>
                </article>`;
            }).join("");
        } else {
            hero.innerHTML = "<p>No news available in this category.</p>";
            grid.innerHTML = "";
        }
        
        ticker.innerText = " LATEST NEWS: " + db.map(n => n.title.toUpperCase()).join(" ••• ");
        localStorage.setItem("fj_final_v10", JSON.stringify(db));
    }

    function publish() {
        const pass = document.getElementById("pass").value;
        const title = document.getElementById("tit").value;
        let content = document.getElementById("con").value;
        const category = document.getElementById("cat").value;
        const editId = parseInt(document.getElementById("edit-id").value);
        const fileInput = document.getElementById("imgFile");

        if(pass !== KEY) return alert("Security Error: Invalid Password.");
        if(!title || !content) return alert("Please fill in headline and content.");

        const save = (img) => {
            if(editId === -1) {
                const date = new Date().toLocaleDateString('en-US', { year:'numeric', month:'long', day:'numeric' });
                const fullContent = `**FARAH JOURNAL** — *${date}* — ` + content;
                db.unshift({title, content: fullContent, category, image: img || "https://via.placeholder.com/800x400"});
            } else {
                db[editId].title = title;
                db[editId].content = content;
                db[editId].category = category;
                if(img) db[editId].image = img;
                document.getElementById("edit-id").value = "-1";
            }
            render(); clear(); toggleAdmin();
        };

        if(fileInput.files[0]) {
            const reader = new FileReader();
            reader.readAsDataURL(fileInput.files[0]);
            reader.onload = () => save(reader.result);
        } else save(editId !== -1 ? db[editId].image : null);
    }

    function startEdit(i) {
        toggleAdmin();
        const n = db[i];
        document.getElementById("tit").value = n.title;
        document.getElementById("con").value = n.content;
        document.getElementById("cat").value = n.category;
        document.getElementById("edit-id").value = i;
        document.getElementById("submit-btn").innerText = "UPDATE POST";
    }

    function clear() { 
        document.getElementById("tit").value = ""; 
        document.getElementById("con").value = ""; 
        document.getElementById("pass").value = ""; 
        document.getElementById("imgFile").value = "";
    }

    function remove(i) {
        if(prompt("Enter Admin Password to delete:") === KEY) { db.splice(i, 1); render(); }
    }

    render();
</script>
</body>
</html>
